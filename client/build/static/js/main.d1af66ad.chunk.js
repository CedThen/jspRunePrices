(this["webpackJsonpjsp-scraper"]=this["webpackJsonpjsp-scraper"]||[]).push([[0],{94:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(29),i=r.n(a),o=r(20),s=r.n(o),d=r(4),l=r(30),j=r(25),b=r(11),h=r(19),u=r(49),x=c.a.createContext(),p=r(53),f=r(3),O=["children"],g=function(e){var t=e.children,r=Object(h.a)(e,O);return Object(f.jsx)(b.g,Object(d.a)(Object(d.a)({},r),{},{fontFamily:"Cinzel",children:t}))},m=function(){var e=c.a.useContext(x);return Object(f.jsxs)(b.a,Object(d.a)(Object(d.a)({},e?{w:"100%",h:"5%",display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"}:{position:"fixed",top:"10",right:"20",display:"flex",flexDirection:"row"}),{},{children:[Object(f.jsx)("a",{href:"https://forums.d2jsp.org/forum.php?f=268&c=2",children:Object(f.jsxs)(b.g,{fontFamily:"Exocet",fontSize:"20",children:[Object(f.jsx)(p.a,{})," d2Jsp"]})}),Object(f.jsxs)(u.a,{children:[Object(f.jsx)(u.g,{children:Object(f.jsx)(b.g,{fontFamily:"Exocet",fontSize:"20",paddingLeft:"50",cursor:"pointer",children:"About"})}),Object(f.jsxs)(u.d,{backgroundColor:"brand.grey",children:[Object(f.jsx)(u.b,{}),Object(f.jsx)(u.f,{children:Object(f.jsx)(g,{align:"center",fontSize:"lg",children:"Methodology"})}),Object(f.jsxs)(u.c,{children:[Object(f.jsx)(g,{children:'This data is collected once an hour from the latest 100 posts under the "runes" filter on d2Jsp for softcore d2R. The weekly and monthly views will work once enough data has been collected (should have enough by 1/11/21)'}),Object(f.jsx)("br",{}),Object(f.jsx)(g,{children:"This should not be considered a definitive authority on rune pricing, as its data processing is imperfect and cannot handle all the jargon out there. "}),Object(f.jsx)("br",{}),Object(f.jsx)(g,{children:"However, I hope it helps make understanding rune pricing easier."})]}),Object(f.jsx)(u.f,{}),Object(f.jsxs)(u.e,{children:[Object(f.jsx)(g,{children:"Questions?"}),Object(f.jsx)(g,{children:"Reach me at cedthen@gmail.com"})]})]})]})]}))},y=r(8),v=r(51);function w(e,t){var r=new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?");return e.toString().match(r)[0]}function C(e){return e.length<=24?e.map((function(e){return k(e.createdAt)})):e.map((function(e){return t=e.createdAt,new Date(t).toLocaleDateString([],{month:"short",day:"2-digit"});var t}))}function k(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var R={Daily:24,Weekly:168,Monthly:730};var S="#ffa800",A="rgb(255, 99, 132)",D="rgba(255, 99, 132, 0.5)",E=r(45),T=function(e){var t=Object(E.a)(e),r=t.getInputProps,n=t.getCheckboxProps,c=r(),a=n();return Object(f.jsxs)(b.a,{as:"label",children:[Object(f.jsx)("input",Object(d.a)({},c)),Object(f.jsx)(b.a,Object(d.a)(Object(d.a)({},a),{},{cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"brand.lightGrey",color:"white"},px:5,py:3,children:Object(f.jsx)(b.g,{fontFamily:"Exocet",children:e.children})}))]})},z=function(e){var t=e.fetchData,r=Object(E.b)({name:"Timeframe",defaultValue:"Daily",onChange:function(e){return t(R[e])}}),n=r.getRootProps,c=r.getRadioProps,a=n();return Object(f.jsx)(b.a,Object(d.a)(Object(d.a)({},a),{},{display:"flex",flexDirection:"row",children:Object(f.jsx)(b.c,{templateColumns:"1fr 1fr 1fr",w:"75%",children:["Daily","Weekly","Monthly"].map((function(e){var t=c({value:e});return Object(f.jsx)(b.d,{padding:"10px",children:Object(f.jsx)(T,Object(d.a)(Object(d.a)({},t),{},{children:e}),e)})}))})}))};y.d.register(y.c,y.i,y.k,y.h,y.o,y.p,y.f);var F={family:"Exocet",size:15},P={color:"white",font:F},_=function(e,t,r){var n,c=r?5:(n=t.length)<=R.Daily?24:n<=R.Weekly?7:30;return{responsive:!0,plugins:{legend:{display:!1},tooltip:{titleColor:"white",titleFont:F,bodyColor:S,bodyFont:F},title:{display:!0,text:e,color:S,font:Object(d.a)(Object(d.a)({},F),{},{size:r?20:40})}},scales:{yAxes:{ticks:Object(d.a)(Object(d.a)({},P),{},{callback:function(e){return"    "+e}})},xAxes:{ticks:Object(d.a)(Object(d.a)({},P),{},{maxTicksLimit:c})}},maintainAspectRatio:!1}};var L=function(e){var t=e.data,r=e.chartedRune,n=e.fetchData,a=function(e){var t={};return Object.keys(e[0].runeprices).forEach((function(r){e.forEach((function(e){var n=e.runeprices[r].askAvg;t[r]?t[r].push(n):t[r]=[n]}))})),t}(t),i=a[r].reverse(),o=C(t).reverse(),s=c.a.useContext(x),d={labels:o,datasets:[{label:r,data:i,borderColor:A,backgroundColor:D}]};return Object(f.jsxs)(b.a,{w:"100%",h:s?"50%":"100%",children:[Object(f.jsx)(v.a,{data:d,options:_(r,i,s),width:"90%",height:"80%"}),Object(f.jsxs)(b.b,{padding:"20px",display:"flex",flexDirection:"column",children:[Object(f.jsx)(b.g,{fontFamily:"Exocet",fontSize:"xl",children:"Timeframe"}),Object(f.jsx)(z,{fetchData:n})]})]})},B=r(47),W=r.p+"static/media/ber.b998fe19.png",G=r.p+"static/media/cham.9aad9aa5.png",I=r.p+"static/media/gul.6511785b.png",J=r.p+"static/media/ist.ea49266a.png",H=r.p+"static/media/jah.3df4ae7c.png",M=r.p+"static/media/lem.7e8e05e9.png",N=r.p+"static/media/lo.94b9e270.png",U=r.p+"static/media/mal.ace2182f.png",K=r.p+"static/media/ohm.451a2bff.png",V=r.p+"static/media/pul.f6805011.png",Q=r.p+"static/media/sur.d8163a20.png",q=r.p+"static/media/um.b3fca588.png",X=r.p+"static/media/vex.99f5de6f.png",Y=r.p+"static/media/zod.21d25b59.png",Z=r(46),$=function(e){return Object(f.jsx)(Z.a,Object(d.a)({w:"36px",objectFit:"contain",paddingRight:"3"},e))},ee=function(e){return{lem:Object(f.jsx)($,{src:M,alt:"lem"}),pul:Object(f.jsx)($,{src:V,alt:"pul"}),um:Object(f.jsx)($,{src:q,alt:"um"}),mal:Object(f.jsx)($,{src:U,alt:"mal"}),ist:Object(f.jsx)($,{src:J,alt:"ist"}),gul:Object(f.jsx)($,{src:I,alt:"gul"}),vex:Object(f.jsx)($,{src:X,alt:"vex"}),ohm:Object(f.jsx)($,{src:K,alt:"ohm"}),lo:Object(f.jsx)($,{src:N,alt:"lo"}),sur:Object(f.jsx)($,{src:Q,alt:"sur"}),ber:Object(f.jsx)($,{src:W,alt:"ber"}),jah:Object(f.jsx)($,{src:H,alt:"jah"}),cham:Object(f.jsx)($,{src:G,alt:"cham"}),zod:Object(f.jsx)($,{src:Y,alt:"zod"})}[e]},te=["children"],re=function(e){var t=e.children,r=Object(h.a)(e,te),n=c.a.useContext(x);return Object(f.jsx)(B.d,{fontFamily:"ExocetBold",border:"0.5px",borderColor:"white",children:Object(f.jsx)(b.g,Object(d.a)(Object(d.a)({},r),{},{fontSize:n?"sm":"lg",children:t}))})};function ne(e){return e>0?"brand.green":0===e?"brand.white":"brand.red"}var ce=function(e){var t=e.runeprices,r=e.rune,n=e.prevRuneprices,c=e.onRowClick,a=e.isSelected,i=t[r].bidAvg-n[r].bidAvg,o=t[r].askAvg-n[r].askAvg,s=ne(i),d=ne(o),l=(t[r].bidAvg+t[r].askAvg)/2,j=(l-(n[r].bidAvg+n[r].askAvg)/2)/l,b=ne(j);return Object(f.jsxs)(B.g,{onClick:function(){return c(r)},_hover:{background:"brand.lightGrey"},backgroundColor:a?"brand.lightGrey":"brand.grey",children:[Object(f.jsxs)(re,{color:"brand.orange",display:"flex",flexDirection:"row",children:[ee(r),r]}),Object(f.jsxs)(re,{color:s,textAlign:"right",children:[w(t[r].bidAvg,2),Object(f.jsx)("span",{})]}),Object(f.jsx)(re,{color:d,textAlign:"right",children:w(t[r].askAvg,2)}),Object(f.jsxs)(re,{color:b,textAlign:"right",children:[w(100*j,2),"%"]}),Object(f.jsx)(re,{textAlign:"right",children:t[r].count})]})},ae=["children"],ie=function(e){var t=e.children,r=Object(h.a)(e,ae),n=c.a.useContext(x);return Object(f.jsx)(B.e,Object(d.a)(Object(d.a)({fontFamily:"ExocetBold",f:!0,fontWeight:"light",border:"1px"},r),{},{children:Object(f.jsx)(b.g,{fontSize:n?"sm":"md",textAlign:"center",children:t})}))},oe=function(e){var t=e.data,r=e.onRowClick,n=e.chartedRune,a=t[0],i=a.runeprices,o=a.createdAt,s=t[1].runeprices,d=c.a.useContext(x);return Object(f.jsx)(b.a,{children:Object(f.jsxs)(B.a,{variant:"simple",size:d?"sm":"md",children:[Object(f.jsxs)(B.b,{children:["Updates once an hour. Last updated at ",k(o)]}),Object(f.jsx)(B.f,{children:Object(f.jsxs)(B.g,{children:[Object(f.jsx)(ie,{borderColor:"white",children:"Rune"}),Object(f.jsx)(ie,{borderColor:"white",children:"Bid"}),Object(f.jsx)(ie,{borderColor:"white",children:"Ask"}),Object(f.jsx)(ie,{borderColor:"white",children:"% Chg"}),Object(f.jsx)(ie,{borderColor:"white",children:"Vol"})]})}),Object(f.jsx)(B.c,{children:Object.keys(i).map((function(e){var t=e===n;return Object(f.jsx)(ce,{isSelected:t,runeprices:i,rune:e,prevRuneprices:s,onRowClick:r})}))})]})})},se="jspscraper.herokuapp.com",de=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).ADDRESS_URL||"localhost";console.log("url",de);"https://".concat(se,"/api/latest/");var le=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch((r=t,"https://".concat(se,"/api/last/").concat(r)));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),je=r(48),be={display:"flex",alignItems:"center",flexDirection:"column",maxWidth:"100%",overflowX:"hidden",paddingLeft:"20px",paddingRight:"20px"},he=function(e){return e?{heading:{size:"xl",padding:"10px"}}:{heading:{size:"3xl",padding:"20px"}}},ue=function(){var e=c.a.useContext(x),t=Array.from({length:14},(function(e,t){return t+1})),r=function(){return Object(f.jsxs)(b.c,{className:"body",gridTemplateColumns:"2fr 3fr",h:"100%",w:"100%",gap:10,paddingTop:"20",children:[Object(f.jsx)(b.d,{children:Object(f.jsx)(b.f,{children:t.map((function(){return Object(f.jsx)(je.a,{height:"30px",paddingBottom:"10",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})}))})}),Object(f.jsx)(b.d,{style:{width:"100%",height:"80%",paddingRight:"10px"},children:Object(f.jsx)(je.a,{height:"700px",padding:"5",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})})]})},n=function(){return Object(f.jsx)(b.f,{width:"300px",children:t.map((function(){return Object(f.jsx)(je.a,{height:"30px",paddingBottom:"10",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})}))})};return Object(f.jsxs)(b.a,{style:Object(d.a)(Object(d.a)({},be),{},{height:"100vh"}),backgroundColor:"brand.grey",children:[Object(f.jsx)(m,{}),Object(f.jsxs)(b.e,Object(d.a)(Object(d.a)({},he(e).heading),{},{color:"brand.white",children:["JSP ",Object(f.jsx)(b.g,{as:"span",color:"brand.orange",children:"Rune"})," Prices"]})),e?Object(f.jsx)(n,{}):Object(f.jsx)(r,{})]})},xe=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)("ber"),i=Object(j.a)(a,2),o=i[0],h=i[1];function u(){return p.apply(this,arguments)}function p(){return p=Object(l.a)(s.a.mark((function e(){var t,r,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:24,e.next=3,le(t);case 3:r=e.sent,c(r);case 5:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}Object(n.useEffect)((function(){u()}),[]);var O=Object(n.useContext)(x),g=function(){return Object(f.jsxs)(b.c,{className:"body",gridTemplateColumns:"2fr 3fr",h:"100%",w:"100%",gap:5,children:[Object(f.jsx)(b.d,{style:{width:"100%",height:"80%"},children:Object(f.jsx)(oe,{data:[r[0],r[1]],onRowClick:function(e){return h(e)},chartedRune:o})}),Object(f.jsx)(b.d,{style:{width:"100%",height:"80%",padding:"10px"},children:Object(f.jsx)(L,{data:r,chartedRune:o,fetchData:u})})]})},y=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(oe,{maxWidth:"100%",w:"100%",data:[r[0],r[1]],onRowClick:function(e){return h(e)},chartedRune:o}),Object(f.jsx)(L,{maxHeight:"300px",data:r,chartedRune:o,fetchData:u})]})};return r?Object(f.jsxs)(b.a,{style:Object(d.a)(Object(d.a)({},be),{},{width:"100vw",height:"100vh"}),backgroundColor:"brand.grey",children:[Object(f.jsx)(m,{}),Object(f.jsxs)(b.e,Object(d.a)(Object(d.a)({},he(O).heading),{},{color:"brand.white",children:["JSP ",Object(f.jsx)(b.g,{as:"span",color:"brand.orange",children:"Rune"})," Prices"]})),O?Object(f.jsx)(y,{}):Object(f.jsx)(g,{})]}):Object(f.jsx)(ue,{})},pe=r(52);var fe=function(){var e=Object(pe.useMediaQuery)({query:"(max-width: 480px)"});return Object(f.jsx)(x.Provider,{value:e,children:Object(f.jsx)(xe,{})})},Oe=r(15),ge=r(13),me=function(){return Object(f.jsx)(ge.a,{styles:"\n      /* latin */\n      @font-face {\n        font-family: 'ExocetBold';\n        font-style: normal;\n        src: url('".concat("../fonts/exocetBold.ttf","') format('truetype');        \n      },\n      @font-face {\n        font-family: 'ExocetLight';\n        font-style: normal;\n        src: url('").concat("../fonts/exocetLight.ttf","') format('truetype');        \n      }\n      ")})},ye=Object(Oe.b)({colors:{brand:{green:"#26ff00",red:"#ff0f00",grey:"#202124",orange:"#ffa800",white:"#ffffff",black:"#000000",lightGrey:"#2c2e33"}},fonts:{heading:"ExocetBold"},components:{Text:{baseStyle:{color:"brand.white"}}}});r(94);i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsxs)(Oe.a,{theme:ye,children:[Object(f.jsx)(me,{}),Object(f.jsx)(fe,{})]})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.d1af66ad.chunk.js.map