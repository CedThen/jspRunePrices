(this["webpackJsonpjsp-scraper"]=this["webpackJsonpjsp-scraper"]||[]).push([[0],{94:function(e,t,r){},95:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(29),i=r.n(a),o=r(20),s=r.n(o),d=r(4),l=r(30),j=r(25),b=r(9),h=r(19),u=r(49),x=c.a.createContext(),f=r(53),p=r(3),g=["children"],O=function(e){var t=e.children,r=Object(h.a)(e,g);return Object(p.jsx)(b.g,Object(d.a)(Object(d.a)({},r),{},{fontFamily:"Cinzel",children:t}))},m=function(){var e=c.a.useContext(x);return Object(p.jsxs)(b.a,Object(d.a)(Object(d.a)({},e?{w:"100%",h:"5%",display:"flex",justifyContent:"center",alignItems:"center",padding:"10px"}:{position:"fixed",top:"10",right:"20",display:"flex",flexDirection:"row"}),{},{children:[Object(p.jsx)("a",{href:"https://forums.d2jsp.org/forum.php?f=268&c=2",children:Object(p.jsxs)(b.g,{fontFamily:"Exocet",fontSize:"20",children:[Object(p.jsx)(f.a,{})," d2Jsp"]})}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)(u.g,{children:Object(p.jsx)(b.g,{fontFamily:"Exocet",fontSize:"20",paddingLeft:"50",cursor:"pointer",children:"About"})}),Object(p.jsxs)(u.d,{backgroundColor:"brand.grey",children:[Object(p.jsx)(u.b,{}),Object(p.jsx)(u.f,{children:Object(p.jsx)(O,{align:"center",fontSize:"lg",children:"Methodology"})}),Object(p.jsxs)(u.c,{children:[Object(p.jsx)(O,{children:'This data is collected once an hour from the latest 100 posts under the "runes" filter on d2Jsp for softcore d2R. The weekly and monthly views will work once enough data has been collected (should have enough by 1/11/21)'}),Object(p.jsx)("br",{}),Object(p.jsx)(O,{children:"This should not be considered a definitive authority on rune pricing, as its data processing is imperfect and cannot handle all the jargon out there. "}),Object(p.jsx)("br",{}),Object(p.jsx)(O,{children:"However, I hope it helps make understanding rune pricing easier."})]}),Object(p.jsx)(u.f,{}),Object(p.jsxs)(u.e,{children:[Object(p.jsx)(O,{children:"Questions?"}),Object(p.jsx)(O,{children:"Reach me at cedthen@gmail.com"})]})]})]})]}))},y="jspscraper.herokuapp.com",v=("https://".concat(y,"/api/latest/"),function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch((r=t,"https://".concat(y,"/api/last/").concat(r)));case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()),w=r(45),C={display:"flex",alignItems:"center",flexDirection:"column",maxWidth:"100%",overflowX:"hidden",paddingLeft:"20px",paddingRight:"20px"},k=function(e){return e?{heading:{size:"xl",padding:"10px"}}:{heading:{size:"3xl",padding:"20px"}}},R=function(){var e=c.a.useContext(x),t=Array.from({length:14},(function(e,t){return t+1})),r=function(){return Object(p.jsxs)(b.c,{className:"body",gridTemplateColumns:"2fr 3fr",h:"100%",w:"100%",gap:10,paddingTop:"20",children:[Object(p.jsx)(b.d,{children:Object(p.jsx)(b.f,{children:t.map((function(){return Object(p.jsx)(w.a,{height:"30px",paddingBottom:"10",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})}))})}),Object(p.jsx)(b.d,{style:{width:"100%",height:"80%",paddingRight:"10px"},children:Object(p.jsx)(w.a,{height:"700px",padding:"5",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})})]})},n=function(){return Object(p.jsx)(b.f,{width:"300px",children:t.map((function(){return Object(p.jsx)(w.a,{height:"30px",paddingBottom:"10",color:"brand.orange",startColor:"brand.lightGrey",endColor:"brand.grey"})}))})};return Object(p.jsxs)(b.a,{style:Object(d.a)(Object(d.a)({},C),{},{height:"100vh"}),backgroundColor:"brand.grey",children:[Object(p.jsx)(m,{}),Object(p.jsxs)(b.e,Object(d.a)(Object(d.a)({},k(e).heading),{},{color:"brand.white",children:["JSP ",Object(p.jsx)(b.g,{as:"span",color:"brand.orange",children:"Rune"})," Prices"]})),e?Object(p.jsx)(n,{}):Object(p.jsx)(r,{})]})},A=r(8),D=r(51);function S(e,t){var r=new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?");return e.toString().match(r)[0]}function z(e){return e.length<=24?e.map((function(e){return E(e.createdAt)})):e.map((function(e){return t=e.createdAt,new Date(t).toLocaleDateString([],{month:"short",day:"2-digit"});var t}))}function E(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var F={Daily:24,Weekly:168,Monthly:730};var T="#ffa800",B="rgb(255, 99, 132)",P="rgba(255, 99, 132, 0.5)",G=r(46),L=function(e){var t=Object(G.a)(e),r=t.getInputProps,n=t.getCheckboxProps,c=r(),a=n();return Object(p.jsxs)(b.a,{as:"label",children:[Object(p.jsx)("input",Object(d.a)({},c)),Object(p.jsx)(b.a,Object(d.a)(Object(d.a)({},a),{},{cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{bg:"brand.lightGrey",color:"white"},_hover:{bg:"brand.lightGrey",color:"white"},px:5,py:3,children:Object(p.jsx)(b.g,{fontFamily:"Exocet",children:e.children})}))]})},W=function(e){var t=e.fetchData,r=Object(G.b)({name:"Timeframe",defaultValue:"Daily",onChange:function(e){return t(F[e])}}),n=r.getRootProps,c=r.getRadioProps,a=n();return Object(p.jsx)(b.a,Object(d.a)(Object(d.a)({},a),{},{display:"flex",flexDirection:"row",children:Object(p.jsx)(b.c,{templateColumns:"1fr 1fr 1fr",w:"75%",children:["Daily","Weekly","Monthly"].map((function(e){var t=c({value:e});return Object(p.jsx)(b.d,{padding:"10px",children:Object(p.jsx)(L,Object(d.a)(Object(d.a)({},t),{},{children:e}),e)})}))})}))};A.d.register(A.c,A.i,A.k,A.h,A.o,A.p,A.f);var J={family:"Exocet",size:15},I={color:"white",font:J},M=function(e,t,r){var n,c=r?5:(n=t.length)<=F.Daily?24:n<=F.Weekly?7:30;return{responsive:!0,plugins:{legend:{display:!1},tooltip:{titleColor:"white",titleFont:J,bodyColor:T,bodyFont:J},title:{display:!0,text:e,color:T,font:Object(d.a)(Object(d.a)({},J),{},{size:r?20:40})}},scales:{yAxes:{ticks:Object(d.a)(Object(d.a)({},I),{},{callback:function(e){return"    "+e}})},xAxes:{ticks:Object(d.a)(Object(d.a)({},I),{},{maxTicksLimit:c})}},maintainAspectRatio:!1}};var _=function(e){var t=e.data,r=e.chartedRune,n=e.fetchData,a=function(e){var t={};return Object.keys(e[0].runeprices).forEach((function(r){e.forEach((function(e){var n=e.runeprices[r].askAvg;t[r]?t[r].push(n):t[r]=[n]}))})),t}(t),i=a[r].reverse(),o=z(t).reverse(),s=c.a.useContext(x),d={labels:o,datasets:[{label:r,data:i,borderColor:B,backgroundColor:P}]};return Object(p.jsxs)(b.a,{w:"100%",h:s?"50%":"100%",children:[Object(p.jsx)(D.a,{data:d,options:M(r,i,s),width:"90%",height:"80%"}),Object(p.jsxs)(b.b,{padding:"20px",display:"flex",flexDirection:"column",children:[Object(p.jsx)(b.g,{fontFamily:"Exocet",fontSize:"xl",children:"Timeframe"}),Object(p.jsx)(W,{fetchData:n})]})]})},H=r(48),N=r.p+"static/media/ber.b998fe19.png",Q=r.p+"static/media/cham.9aad9aa5.png",V=r.p+"static/media/gul.6511785b.png",q=r.p+"static/media/ist.ea49266a.png",U=r.p+"static/media/jah.3df4ae7c.png",X=r.p+"static/media/lem.7e8e05e9.png",K=r.p+"static/media/lo.94b9e270.png",Y=r.p+"static/media/mal.ace2182f.png",Z=r.p+"static/media/ohm.451a2bff.png",$=r.p+"static/media/pul.f6805011.png",ee=r.p+"static/media/sur.d8163a20.png",te=r.p+"static/media/um.b3fca588.png",re=r.p+"static/media/vex.99f5de6f.png",ne=r.p+"static/media/zod.21d25b59.png",ce=r(47),ae=function(e){return Object(p.jsx)(ce.a,Object(d.a)({w:"36px",objectFit:"contain",paddingRight:"3"},e))},ie=function(e){return{lem:Object(p.jsx)(ae,{src:X,alt:"lem"}),pul:Object(p.jsx)(ae,{src:$,alt:"pul"}),um:Object(p.jsx)(ae,{src:te,alt:"um"}),mal:Object(p.jsx)(ae,{src:Y,alt:"mal"}),ist:Object(p.jsx)(ae,{src:q,alt:"ist"}),gul:Object(p.jsx)(ae,{src:V,alt:"gul"}),vex:Object(p.jsx)(ae,{src:re,alt:"vex"}),ohm:Object(p.jsx)(ae,{src:Z,alt:"ohm"}),lo:Object(p.jsx)(ae,{src:K,alt:"lo"}),sur:Object(p.jsx)(ae,{src:ee,alt:"sur"}),ber:Object(p.jsx)(ae,{src:N,alt:"ber"}),jah:Object(p.jsx)(ae,{src:U,alt:"jah"}),cham:Object(p.jsx)(ae,{src:Q,alt:"cham"}),zod:Object(p.jsx)(ae,{src:ne,alt:"zod"})}[e]},oe=["children"],se=function(e){var t=e.children,r=Object(h.a)(e,oe),n=c.a.useContext(x);return Object(p.jsx)(H.d,{fontFamily:"ExocetBold",border:"0.5px",borderColor:"white",children:Object(p.jsx)(b.g,Object(d.a)(Object(d.a)({},r),{},{fontSize:n?"sm":"lg",children:t}))})};function de(e){return e>0?"brand.green":0===e?"brand.white":"brand.red"}var le=function(e){var t=e.runeprices,r=e.rune,n=e.prevRuneprices,c=e.onRowClick,a=e.isSelected,i=t[r].bidAvg-n[r].bidAvg,o=t[r].askAvg-n[r].askAvg,s=de(i),d=de(o),l=(t[r].bidAvg+t[r].askAvg)/2,j=(l-(n[r].bidAvg+n[r].askAvg)/2)/l,b=de(j);return Object(p.jsxs)(H.g,{onClick:function(){return c(r)},_hover:{background:"brand.lightGrey"},backgroundColor:a?"brand.lightGrey":"brand.grey",children:[Object(p.jsxs)(se,{color:"brand.orange",display:"flex",flexDirection:"row",children:[ie(r),r]}),Object(p.jsxs)(se,{color:s,textAlign:"right",children:[S(t[r].bidAvg,2),Object(p.jsx)("span",{})]}),Object(p.jsx)(se,{color:d,textAlign:"right",children:S(t[r].askAvg,2)}),Object(p.jsxs)(se,{color:b,textAlign:"right",children:[S(100*j,2),"%"]}),Object(p.jsx)(se,{textAlign:"right",children:t[r].count})]})},je=["children"],be=function(e){var t=e.children,r=Object(h.a)(e,je),n=c.a.useContext(x);return Object(p.jsx)(H.e,Object(d.a)(Object(d.a)({fontFamily:"ExocetBold",f:!0,fontWeight:"light",border:"1px"},r),{},{children:Object(p.jsx)(b.g,{fontSize:n?"sm":"md",textAlign:"center",children:t})}))},he=function(e){var t=e.data,r=e.onRowClick,n=e.chartedRune,a=t[0],i=a.runeprices,o=a.createdAt,s=t[1].runeprices,d=c.a.useContext(x);return Object(p.jsx)(b.a,{children:Object(p.jsxs)(H.a,{variant:"simple",size:d?"sm":"md",children:[Object(p.jsxs)(H.b,{children:["Updates once an hour. Last updated at ",E(o)]}),Object(p.jsx)(H.f,{children:Object(p.jsxs)(H.g,{children:[Object(p.jsx)(be,{borderColor:"white",children:"Rune"}),Object(p.jsx)(be,{borderColor:"white",children:"Bid"}),Object(p.jsx)(be,{borderColor:"white",children:"Ask"}),Object(p.jsx)(be,{borderColor:"white",children:"% Chg"}),Object(p.jsx)(be,{borderColor:"white",children:"Vol"})]})}),Object(p.jsx)(H.c,{children:Object.keys(i).map((function(e){var t=e===n;return Object(p.jsx)(le,{isSelected:t,runeprices:i,rune:e,prevRuneprices:s,onRowClick:r})}))})]})})},ue=function(e){var t=e.data,r=e.setChartedRune,n=e.chartedRune,c=e.fetchData;return Object(p.jsxs)(b.c,{className:"body",gridTemplateColumns:"2fr 3fr",h:"100%",w:"100%",gap:5,children:[Object(p.jsx)(b.d,{style:{width:"100%",height:"80%"},children:Object(p.jsx)(he,{data:[t[0],t[1]],onRowClick:function(e){return r(e)},chartedRune:n})}),Object(p.jsx)(b.d,{style:{width:"100%",height:"80%",padding:"10px"},children:Object(p.jsx)(_,{data:t,chartedRune:n,fetchData:c})})]})},xe=function(e){var t=e.data,r=e.setChartedRune,n=e.chartedRune,c=e.fetchData;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(he,{maxWidth:"100%",w:"100%",data:[t[0],t[1]],onRowClick:function(e){return r(e)},chartedRune:n}),Object(p.jsx)(_,{maxHeight:"300px",data:t,chartedRune:n,fetchData:c})]})},fe=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)("ber"),i=Object(j.a)(a,2),o=i[0],h=i[1];function u(){return f.apply(this,arguments)}function f(){return f=Object(l.a)(s.a.mark((function e(){var t,r,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:24,e.next=3,v(t);case 3:r=e.sent,c(r);case 5:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}Object(n.useEffect)((function(){u()}),[]);var g=Object(n.useContext)(x);if(!r)return Object(p.jsx)(R,{});var O={data:r,setChartedRune:h,chartedRune:o,fetchData:u};return Object(p.jsxs)(b.a,{style:Object(d.a)(Object(d.a)({},C),{},{width:"100vw",height:"100vh"}),backgroundColor:"brand.grey",children:[Object(p.jsx)(m,{}),Object(p.jsxs)(b.e,Object(d.a)(Object(d.a)({},k(g).heading),{},{color:"brand.white",children:["JSP ",Object(p.jsx)(b.g,{as:"span",color:"brand.orange",children:"Rune"})," Prices"]})),g?Object(p.jsx)(xe,Object(d.a)({},O)):Object(p.jsx)(ue,Object(d.a)({},O))]})},pe=r(52);var ge=function(){var e=Object(pe.useMediaQuery)({query:"(max-width: 480px)"});return Object(p.jsx)(x.Provider,{value:e,children:Object(p.jsx)(fe,{})})},Oe=r(15),me=r(13),ye=function(){return Object(p.jsx)(me.a,{styles:"\n      /* latin */\n      @font-face {\n        font-family: 'ExocetBold';\n        font-style: normal;\n        src: url('".concat("../fonts/exocetBold.ttf","') format('truetype');        \n      },\n      @font-face {\n        font-family: 'ExocetLight';\n        font-style: normal;\n        src: url('").concat("../fonts/exocetLight.ttf","') format('truetype');        \n      }\n      ")})},ve=Object(Oe.b)({colors:{brand:{green:"#26ff00",red:"#ff0f00",grey:"#202124",orange:"#ffa800",white:"#ffffff",black:"#000000",lightGrey:"#2c2e33"}},fonts:{heading:"ExocetBold"},components:{Text:{baseStyle:{color:"brand.white"}}}});r(94);i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsxs)(Oe.a,{theme:ve,children:[Object(p.jsx)(ye,{}),Object(p.jsx)(ge,{})]})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.9907a7aa.chunk.js.map